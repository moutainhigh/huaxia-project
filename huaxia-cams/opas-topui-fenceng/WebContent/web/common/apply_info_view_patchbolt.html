<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>申请件信息</title>
<link href="../../topui/easyui/default/theme/default/easyui.16.3.6.css" type="text/css" rel="stylesheet" />
<link href="../../css/normalize.css" type="text/css" rel="stylesheet" />
<link href="../../css/normalize-ext.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../../topui/topui.min.js"></script>
<script type="text/javascript" src="../../topui/easyui/default/jquery.easyui.min.js"></script>
<script type="text/javascript" src="../../topui/easyui/default/locale/easyui-lang-zh_CN.js"></script>
<script type="text/javascript" src="../../js/validate.js"></script>
<style type="text/css">
button {
	width: 102px;
	height: 20px;
}

textarea {
	border: 1px solid #C0C0C0;
	outline: none;
	-webkit-transition: .1s ease-in-out;
	-moz-transition: .1s ease-in-out;
	-o-transition: .1s ease-in-out;
	background-color: #fff;
}

/** 快速定位导航区 */
#ksdw_nav {
	top: 10;
	width: 98%;
	background: #EFEFEF;
	margin: 5px;
}
#ksdw_nav a {
	padding: 1px;
	border: 1px solid #EFEFEF;
	text-decoration: none;
	color: #696969;
}
#ksdw_nav a:hover{
	color: #FF0000;
	border-color: #FF0000;
	border:1px #FF0000 solid;
}

/** 快速定位内容区 */
#ksdw_area {
	width: 100%;
	height: 90%;
	overflow-y: auto;
	position: absolute;
}
.positionhead{
	height:14px;
	line-height:14px;
	border-radius:2px;
	display:inline-block;
	text-decoration:none;
	margin-top:0px;
	text-align:center;
	font-size: 13px;
	outline:none;
	margin: 1px;
}
input[type="text"] {
	width: 150px;
}
</style>
</head>
<body>
<div class="wrapper">
		<form id="infoBizForm">
			<!-- 申请件全量信息区 开始 -->
			<div id="ksdw_area">
				<!-- 申请要求 -->

				<!-- 职业信息 -->
				<div id="c_operate_area" >
					<fieldset>
						<legend>
							<label id="C">职业信息</label>
						</legend>
						<table>
							<tr>
								<td>单位名称</td>
								<td colspan="3">
								<input type="text" onkeyup="widthCheck(this,30);" name="c1Coname" id="c1Coname" style="width: 220px;" />
								<input type="text" onkeyup="widthCheck(this,30);" name="c4Fconm2" id="c4Fconm2" style="width: 220px;" />
								<em>*</em></td>
							</tr>
							<tr>
								<td>公务卡预算单位编码/MIMI卡号</td>
								<td colspan="3"><input type="text"
									onkeyup="widthCheck(this,30);"  name="" id=""
									style="width: 280px;" /><em>*</em></td>
							</tr>
							<tr>
								<td>部门名称</td>
								<td><input type="text"  id="c1Codept"
									onkeyup="widthCheck(this,20);" name="c1Codept"
									style="width: 280px;" /></td>
								<td>企业代码</td>
								<td><input type="text"  id=""
									onkeyup="widthCheck(this,20);" name="c1Cobuscd" /></td>
							</tr>
							<tr>
								<td>单位地址</td>
								<td colspan="3"><input type="text"
									onkeyup="widthCheck(this,30);" name="c1Coadd1" id="c1Coadd1"
									style="width: 280px;" /><em>*</em></td>
							</tr>
							<tr>
								<td>单位详细地址1</td>
								<td colspan="3"><input type="text" 
									onkeyup="widthCheck(this,30);" name="c1Coadd2" id="c1Coadd2"
									style="width: 280px;" /><em>*</em></td>
							</tr>
							<tr>
								<td>单位详细地址2</td>
								<td colspan="3"><input type="text" 
									onkeyup="widthCheck(this,30);" name="c1Coadd3" id="c1Coadd3"
									style="width: 280px;" /></td>
							</tr>
							<tr>
								<td>单位详细地址3</td>
								<td colspan="3"><input type="text" 
									onkeyup="widthCheck(this,30);" name="c1Coadd4" id="c1Coadd4"
									style="width: 280px;" /></td>
							</tr>
							<tr>
								<td>邮编编码</td>
								<td colspan="3"><input type="text" 
									onkeyup="widthCheck(this,6);" name="c1Copost" id="" /><em>*</em></td>
							</tr>
							<tr>
								<td>单位电话</td>
								<td><input type="text" onkeyup="widthCheck(this,17);" 
									id="c1Cotel" name="c1Cotel" /><em>*</em></td>
								<td>分机</td>
								<td><input type="text"  id="c1Coext" style="width: 120px;"
									onkeyup="widthCheck(this,6);" name="c1Coext" /><em>*</em></td>
							</tr>
							<!-- <tr>
								<td>行业类别</td>
								<td colspan="3">
								<select  name="c1Cocode" id="c1Cocode" ></select>
								</td>
							</tr> -->
							<tr>
								<td>职业类别</td>
								<td colspan="3"><input type="text" onkeyup="widthCheck(this,6);"
									 name="c6OccuDes1" id="c6OccuDes1" /><em>*</em></td>
							</tr>
							<tr>
								<td>单位性质</td>
								<td colspan="3" style="line-height: 20px;"><label><input
										type="radio" name="c1Cokind" value="01" />机关、事业单位</label><label><input
										type="radio" name="c1Cokind" value="02" />国有企业</label><label><input
										type="radio" name="c1Cokind" value="03" />外商独资</label><label><input
										type="radio" name="c1Cokind" value="04" />中外合资/合作企业</label><label><input
										type="radio" name="c1Cokind" value="05" />股份制企业</label><label><input
										type="radio" name="c1Cokind" value="06" />私营企业</label><label><input
										type="radio" name="c1Cokind" value="08" />个体/个人独资</label><label><input
										type="radio" name="c1Cokind" value="07" />其他___</label><input
									type="text"  id="" /><em>*</em></td>
							</tr>
							<tr>
								<td>职务</td>
								<td colspan="3" style="line-height: 20px;"><label><input
										type="radio" name="c1Title" value="01" />厅局级以上</label><label><input
										type="radio" name="c1Title" value="02" />处级</label><label><input
										type="radio" name="c1Title" value="03" />科级</label><label><input
										type="radio" name="c1Title" value="04" />科员或办事员</label><label><input
										type="radio" name="c1Title" value="06" />工勤</label><label><input
										type="radio" name="c1Title" value="12" />中高层管理人员</label><label><input
										type="radio" name="c1Title" value="13" />一般管理人员</label><br /> <label><input
										type="radio" name="c1Title" value="14" />普通职员</label>
										<label><input type="radio" name="c1Title" value="18" />操作工</label>
										<label><input type="radio" name="c1Title" value="19" />销售/业务代表</label>
										<label><input type="radio" name="c1Title" value="20" />后勤/营业员/服务员</label>
										<em>*</em></td>
							</tr>
							<tr>
								<td>职称</td>
								<td colspan="3" style="line-height: 20px;">
									<label><input type="radio" name="c1Telvl" value="1" />高级</label>
									<label><input type="radio" name="c1Telvl" value="3" />初级</label>
									<label><input type="radio" name="c1Telvl" value="4" />其他</label>
									<br/>
									<label><input type="radio" name="c1Telvl" value="5" />正副校长/院长</label>
									<label><input type="radio" name="c1Telvl" value="6" />正高级</label>
									<label><input type="radio" name="c1Telvl" value="7" />副高级</label>
									<label><input type="radio" name="c1Telvl" value="2" />中级</label>
									<label><input type="radio" name="c1Telvl" value="8" />初级或未评级</label>
									<em>*</em></td>
							</tr>
							<tr>
								<td>现职年限</td>
								<td colspan="3"><input type="text"  name="c1Coyr"
									onkeyup="widthCheck(this,2);" onblur="checkValue(this)" id="c1Coyr" />&nbsp;年<em>*</em></td>
							</tr>
							<tr>
								<td>当前税前年收入</td>
								<td colspan="3"><input type="text"  name="c1Earn"
									onkeyup="widthCheck(this,5);" onblur="checkValue(this)" id="c1Earn" />&nbsp;万元<em>*</em></td>
							</tr>
						</table>
					</fieldset>
				</div>

				<!-- 个人资料 -->
				<div id="b_operate_area"  style="width: 100%;">
					<fieldset>
						<legend>
							<label id="B">个人资料</label>
						</legend>
						<table style="width: 100%;">
							<tr>
								<td>中文姓名</td>
								<td colspan="3"><input type="text"  name="c1Cname" id="c1Cname"
									onkeyup="widthCheck(this,30);"/><em>*</em><span
									id="c1CnameErr"></span></td>
							</tr>
							<tr>
								<td>国籍</td>
								<td colspan="3">
									<select id="c2Natncd1" name="c2Natncd1" onchange="onChangeCombox(this);"></select>
									<em>*</em></td>
							</tr>
							<tr>
								<td>证件有效期至</td>
								<td><input type="text" id="c5Idte1" 
									name="c5Idte1"/><em>*</em> <input type="text"
									id="c5Idte11" style="width: 10px; border-style: none;"></td>
							</tr>
						</table>
					</fieldset>
				</div>
				
				<!-- 银行专用栏位 -->
				<div id="q_operate_area"  style="width: 99%; ">
					<fieldset>
						<legend>
							<label id="Q">银行专用栏位</label>
						</legend>
						<table>
							<tr>
								<td>团办号</td>
								<td colspan="3"><input type="text" 
									onkeyup="widthCheck(this,10);" name="c4Apbatch" id="c4Apbatch" /></td>
							</tr>
							<tr>
								<td>项目号（专案代码）</td>
								<td colspan="3"><input type="text" 
									onkeyup="widthCheck(this,10);" name="c5Jctype" id="c5Jctype" /></td>
							</tr>
							<tr>
								<td>客户类型</td>
								<td colspan="3"><input type="text" 
									onkeyup="widthCheck(this,6);" name="c5Pbcbrnc" id="c5Pbcbrnc" /></td>
							</tr>
							<tr>
								<td>推广单位主管签名</td>
								<td colspan="3"><input type="text"  name="" id="" /></td>
							</tr>
							<tr>
								<td>推广注记栏</td>
								<td colspan="3"><input type="text"  name="" id="" /></td>
							</tr>
							<!-- <tr>
								<td>初审人员代码</td>
								<td colspan="3"><input type="text" 
									onkeyup="widthCheck(this,6);" name="c5Empno" id="" /></td>
							</tr> -->
							<tr>
								<td>推广单位预审人员代码</td>
								<td colspan="3"><input type="text" 
									onkeyup="widthCheck(this,6);" name="c5Empno" id="" /></td>
							</tr> 
							<tr>
								<td>签名</td>
								<td><input type="text"  id="" name="" /></td>
								<td>签名日期</td>
								<td><input type="text" class="easyui-datebox" id="" name="" data-options="editable:false"/></td>
							</tr>
							<tr>
								<td>复审人员代码</td>
								<td colspan="3"><input type="text"  name="" id="" /></td>
							</tr>
							<tr>
								<td>签名</td>
								<td><input type="text"  id="" name="" /></td>
								<td>签名日期</td>
								<td><input type="text" class="easyui-datebox" id="" name="" data-options="editable:false"/></td>
							</tr>
						</table>
					</fieldset>
				</div>
		</div>
	</form>
	</div>
	<div id="win" class="easyui-window" style="width: 400px; height: 250px"
		title="错误信息"
		data-options="modal:false,closed:true,top:($(window).height()+10)*0.5,left:($(window).width()+50)*0.3">

	</div>
</body>
<script type="text/javascript">
	var flag = '';
	var appId = $.fnGetAppId("appId");
	var url = location.href;
	var lvru = url.split("=")[2];
	if (lvru === "lvru") {
		appId = appId.split("=")[0];
	}
	var c1Earn = '0';  //主卡年收入
	var ydjFlag="";
	//征信页面 国籍
	var changeFlag = false;

	/** 功能：初始化页面卡产品下拉框 */
	function fnPolicyList(dataList,obj){
		var jsonDataStr = {"json":[]};
		if(dataList.length>0){
			for(var i=0;i<dataList.length;i++){
				var code = dataList[i].cardCode;
				var name = dataList[i].prodName;
				if(dataList.length>1){
					$u.push(jsonDataStr.json, '{"key":"' + code + '","value":"' + name + '"}');
				}
			}
		}
		$('#'+obj).fnLoadComponent($u.stringify(jsonDataStr)); 
	}
	
	$(function() {		
		// 申请表全量信息区域采用字母编号（a-q）
		var sid = [];
		for (var i = 97; i <= 113; i++) {
			sid.push(String.fromCharCode(i));
		}

		function fnInitStyle(sid) {
			$.each(sid, function(i, v) {
				$('#' + v + '_operate_area fieldset table').css('width', '780')
						.css('margin', '0 auto');
				$('#' + v + '_operate_area table tr td:even').css('width', '190')
						.css('text-align', 'right').css('padding-right', '10px')
						.css('font', 'normal 1em Arial');
			});
		}
		fnInitStyle(sid);
		
		$cf.loadAllDictOnly('ZDNATIONALITYGJ,ZDHXKBM,ZDSSXY,MEALPLAN,ZDHXNFDM,ZDSQRKHLB,');
		var json1 = $cf.getDictJSON('ZDNATIONALITYGJ');
		var dict1 = {"json" : {}};
		var code = '';
		$u.push(dict1, '{"selected":true,"key":"' + code + '"}');
		$u.push(dict1.json, json1);
		$('#c2Natncd1').fnLoadComponent($u.stringify(dict1));
		
		fnLoadAppInfo(appId);
	
	});
	var InfoBizjson2 = null;
	var InfoBizjson = null;
	var c1c2Flag = null;
	function fnLoadAppInfo(appId) {
		var infoBizForm = $("#infoBizForm");
		$cf.ajax({
			url : '/opas-naps/apply_info_load.json',
			data : {
				'appId' : appId
			},
			onSuccess : function(ret) {
				//给输入框和下拉框赋值写法（后台传给前台一个json串）
				var jsonBizInfo = ret.RSP_BODY.jsonBizInfo;
				var cardInfo = ret.RSP_BODY.cardInfo;
				jsonBiz2Info2 = ret.RSP_BODY.jsonBiz2Info;
				InfoBizjson = eval('(' + jsonBizInfo + ')');
				InfoBizjson2 = eval('(' + jsonBiz2Info2 + ')');
				var cardInfoList = eval('(' + cardInfo + ')');
				/* if((c1c2Flag = InfoBizjson.c1c2Flag) != "2"){
					check(InfoBizjson);
				} */
				c1c2Flag = InfoBizjson.c1c2Flag
				infoBizForm.form("load", InfoBizjson2);
				infoBizForm.form("load", InfoBizjson);
				//控制国籍 下拉框 初始化不影响 征信调查页面
				changeFlag=true;
				//给单选框赋值，后台给前台传递一个对象
				$("input,select").attr("disabled",'true');
			}
		});

	}





	//转换数据
	function getFormData(dataObject) {
		var jsonObject = '{';
		var k = 0;
		$.each(dataObject, function() {
			k++;
			var objName = this.name;
			var objValue = this.value;
			jsonObject += '"' + objName + '":';
			jsonObject += '"' + objValue + '"';
			if (k < dataObject.length) {
				jsonObject += ",";
			}
		});
		jsonObject += '}';
		return eval("(" + jsonObject + ")");
	}
	//失去焦点 - 赋 默认值
	function checkValue(obj) {
		var a = obj.value;
		if (a == "") {
			obj.value = "";
		}
	}


	function widthCheck(str, maxlength) {
		var w = 0;
		var tempCount = 0;
		for (var i = 0; i < str.value.length; i++) {
			var c = str.value.charCodeAt(i);
			if ((c >= 0x0001 && c <= 0x007e) || (0xff60 <= c && c <= 0xff9f)) {
				w++;
			} else {
				w += 2;
			}
			if (w > maxlength) {
				str.value = str.value.substr(0, i);
				break;
			}
		}
		if(parent.rightIframe0 != undefined){
			if(parent.rightIframe0.changeVal1 != undefined){
				parent.rightIframe0.changeVal1(str.name,str.value);
			}
		}
	}
	
	
	function changeVal1(name,str){
		$("#"+name).val(str);
		$("#"+name).textbox('setValue', str);
		$("#"+name).validatebox('setValue', str);
	}
	
	function onChangeCombox(data){
		var d = $(data);
		var name = d.attr("name");
		var value = d.val();
		if(changeFlag){
			if(parent.rightIframe0 != undefined){
				if(parent.rightIframe0.changeVal3 != undefined){	
					parent.rightIframe0.changeVal3(name,value);
				}
			}
		}
	}
	// 加载表单
	$.fn.setForm = function(jsonValue){
		var obj = this;
		$.each(jsonValue,function(key,value){
			var a = $("input[name="+key+"]");
			if(a.attr("type") == 'text' || a.attr("type") == 'date'){
				$("input[name="+key+"]").val(value);
			}else if(a.attr("type") == 'radio'|| a.attr("type") == 'checkbox' || a.attr("type") == 'select'){
				a.each(function(){
					if(this.value == value){
						$(this).attr('checked','checked');
					}
				});
			}
		});
	}
</script>
</html>